<?xml version="1.0" encoding="UTF-8"?>
<BES xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="BES.xsd">
	<Analysis>
		<Title>_Delay Task Status Windows-CitrixXen-CSD</Title>
		<Description><![CDATA[<TABLE>
<TBODY>
<TR>
<TD>This analysis reports the&nbsp;status of the _Delay Task by reading&nbsp;the current delay file stored on the endpoint. <BR><BR>- <STRONG>Last Full HC Date -&nbsp;</STRONG>Displays the Date that is read by the Frehness Analysis for this HC<BR>- <STRONG>Last Seen HC Date -&nbsp;</STRONG>Displays the Date of the HC that was last seen by the Delay Task<BR>- <STRONG>Delay Counter</STRONG> - Displays the step the Delay Task is in<BR>&nbsp;&nbsp;&nbsp; 0 =&nbsp;A newer HC was found while processing another HC. The Delay Result Freshness Flag fixlet was relevant so we need to wait until&nbsp;it's not relevant first<BR>&nbsp;&nbsp;&nbsp; 1 = New HC was discovered. Waiting for the Delay Result Freshness Flag fixlet to become relevant<BR>&nbsp;&nbsp;&nbsp; 2 = Delay Result Freshness Flag fixlet was relevant, now waiting for it to become not-relevant so we know the client has executed a full loop cycle<BR>&nbsp;&nbsp;&nbsp; 3 = Delay Task is ready, new HC date is made available to Fresness Analysis<BR>- <STRONG>Evaluation Cycle Times</STRONG> - Displays the Average and Maximum client cycle times in minutes.<BR>- <STRONG>Next Check Time</STRONG> - If Delay Counter&nbsp;&lt; 3, it displays the time for which we have to wait until the _Delay Task will become relevant again for it's next processing cycle.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If Delay Counter = 3, it displays the time it was set to&nbsp;3. So it marks the end of the Delay Cycle and the date/time the new HC date is made available for the Freshness Analysis.<BR>- <STRONG>Delayed Time</STRONG> - This field displayes the time difference between Last Seen HC Date and Next Check Time dates. If the Delay Counter = 3 it displays the total time the HC was delayed by the Delay Task. If counter value &lt; 3 it shows the minimum delayed time until this step. If the Delayed Time becomes greater the 5 days, the default Freshness Tolerance (fixlet _Send Freshness Tolerance ) should be adjusted and executed&nbsp;for that server&nbsp;to prevent the Freshness fixlet becoming relevant again and thus reporting a wrong status on it in ECM/SecMart or other external reporting tools.</P>
<p><small><b>Version:</b>&nbsp;4.0.0<br><b>Build ID:</b>&nbsp;20190307-2125</small></p><P>----------------------------------------------------------------------------------<BR>Licensed Materials - Property of IBM<BR>(c) Copyright IBM Corp. 2019. All Rights Reserved.</P>
<BR></TD></TR></TBODY></TABLE>]]></Description>
		<Relevance><![CDATA[exists folder ("__GTS/__IEMHC/" & name of current site as string & "/Windows-CitrixXen-CSD") of storage folder of client]]></Relevance>
		<MIMEField>
			<Name>x-fixlet-requested-id</Name>
			<Value>21180003</Value>
		</MIMEField>
		<MIMEField>
			<Name>x-fixlet-scm-metadata</Name>
			<Value>{  "fusion_supported_platforms" : "Windows 2008, Windows 2012, Windows 2016; Citrix XenDesktop,Xenapp v7.x",  "description" : "Freshness",  "scm_parameters" : {   "properties" : {    "1" : {     "type" : "string",     "description" : "Result file modification date",     "order" : 1,     "title" : "Last Update"    },    "2" : {     "type" : "string",     "description" : "Result file freshness status",     "order" : 1,     "title" : "Status"    }   }  },  "title" : "Windows-CitrixXen-CSD Measured values - Freshness" }</Value>
		</MIMEField>
		<MIMEField>
			<Name>x-fixlet-ibm-copyright</Name>
			<Value>Licensed Materials - Property of IBM; (c) Copyright IBM Corp. 2019. All Rights Reserved.</Value>
		</MIMEField>
		<MIMEField>
			<Name>x-fixlet-modification-time</Name>
			<Value>Wed, 12 Jun 2019 06:34:51 +0000</Value>
		</MIMEField>
		<Domain>BESC</Domain>
		<Property Name="Last Full HC Date" ID="1"><![CDATA[ 				 ( if ( exists file it) then ( (line 1 of file it ) ) else ("N/A")) of (storage folder of client as string & "/__GTS/__IEMHC/" & name of site of current analysis & "/Windows-CitrixXen-CSD" & "/delay_counter_" & "policy_result.xml")  		]]></Property>
		<Property Name="Last Seen HC Date" ID="3"><![CDATA[( if ( exists file it) then ( (line 2 of file it ) ) else ("N/A")) of (storage folder of client as string & "/__GTS/__IEMHC/" & name of site of current analysis & "/Windows-CitrixXen-CSD" & "/delay_counter_" & "policy_result.xml")  ]]></Property>
		<Property Name="Delay Counter" ID="4"><![CDATA[( if ( exists file it) then ( (line 3 of file it ) ) else ("N/A")) of (storage folder of client as string & "/__GTS/__IEMHC/" & name of site of current analysis & "/Windows-CitrixXen-CSD" & "/delay_counter_" & "policy_result.xml") ]]></Property>
		<Property Name="Evaluation Cycle Times" ID="5"><![CDATA["Average: " & (average of evaluationcycle of client / 1000 * second / minute) as string & " min ; Maximum: " & (maximum of evaluationcycle of client / 1000 * second / minute) as string & " min"]]></Property>
		<Property Name="Next Check Time" ID="6"><![CDATA[ 				 ( if ( exists file it) then ( (line 4 of file it ) ) else ("N/A")) of (storage folder of client as string & "/__GTS/__IEMHC/" & name of site of current analysis & "/Windows-CitrixXen-CSD" & "/delay_counter_" & "policy_result.xml")  ]]></Property>
		<Property Name="Delayed Time" ID="8"><![CDATA[( if ( exists file it) then ( (line 4 of file it as time - line 2 of file it as time) as string) else ("N/A")) of (storage folder of client as string & "/__GTS/__IEMHC/" & name of site of current analysis & "/Windows-CitrixXen-CSD" & "/delay_counter_" & "policy_result.xml")  ]]></Property>
	</Analysis>
</BES>
